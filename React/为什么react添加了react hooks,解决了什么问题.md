# react 添加 react hooks 的动机

1. 在组件之间复用状态逻辑很难

- react 没有将可复用性行为附加到组件的途径。如果你想实现代码复用，可以使用`render props`和`HOC 高阶组件`，但是这两种方案需要重新组织你的组件结构，这可能会很麻烦，使你的组件变得难以理解。使用`context 上下文`、`render props`、`HOC 高阶组件`等方式会造成嵌套组件形成`嵌套地狱`。所以 react 需要提供一种原生的方式来处理逻辑复用
- 我们可以使用 hook 从组件中提取状态逻辑，使得这些逻辑可以单独测试并复用。hooks 使你在不需要修改组件结构的情况下复用状态逻辑。使得在组件间共享逻辑变得更便捷

2. 复杂组件变得难以理解

- 我们在编写组件时，组件起初很简单，但是逐渐被状态逻辑和副作用充斥。每个生命周期常常包含一些不相关的逻辑。比如在`componentDidMount`、`componentDidUpdate`中获取数据。但是同一个`componentDidMount`可能也包含很多其他的逻辑，比如事件监听，而之后在`componentWillUnmount`中清除事件。使得不相关的代码却在同一个方法中组合在一起。这样容易产生 bug,并且导致逻辑不一致
- 为了解决这个问题，hooks 将组件中相关联的部分进行拆分成更小的函数，而不是强制按照生命周期进行划分。使得内部状态变的可预测

3. 难以理解的 class

- 除了代码复用和代码管理会遇到困难外，我们还发现 class 是学习 react 的一大屏障。你必须去理解 JavaScript 中 `this`的工作方式，同时在绑定事件时，还需要绑定 this。没有稳定的`语法提案`，这些代码非常冗余。
- 同时，class 也会给目前的工具带来一些问题。例如，class 不能很好的压缩，并且会使热重载出现不稳定的情况。
- 为了解决 class 产生的问题，hooks 使你在非 class 的情况下可以使用更多的 react 特性。从概念上讲，react 组件一直更像函数。而 hooks 拥抱了函数，同时也没有牺牲更多的 react 特性。使用 hooks，无需学习复杂的函数式或响应式编程技术。

## 参考

- [Hook 简介](https://react.docschina.org/docs/hooks-intro.html)
